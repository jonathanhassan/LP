<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8">
  <meta name="viewport"
        content="width=device-width, initial-scale=1, viewport-fit=cover">

  <title>Les Pompeuses</title>

  <!-- iOS PWA -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Les Pompeuses">
  <link rel="apple-touch-icon" href="/icons/icon-192.png">

  <!-- PWA -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#1a1a2e">

  <!-- Font -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" rel="stylesheet">

  <style>
    :root {
      --bg:#0d1117;
      --card:#1a1a2e;
      --primary:#e63946;
      --text:#fff;
      --radius:16px;
      --font:'Poppins',sans-serif;
    }

    * { box-sizing:border-box; margin:0; padding:0; }

    body {
      font-family:var(--font);
      background:var(--bg);
      color:var(--text);
      min-height:100vh;
      padding:env(safe-area-inset-top) 20px calc(20px + env(safe-area-inset-bottom));
    }

    header {
      text-align:center;
      margin:40px 0 30px;
    }

    header img {
      width:96px;
      height:96px;
      border-radius:22px;
      margin-bottom:14px;
    }

    header h1 {
      font-size:26px;
    }

    header p {
      opacity:.6;
      font-size:14px;
    }

    .grid {
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:14px;
      margin-bottom:24px;
    }

    .card {
      background:var(--card);
      border-radius:var(--radius);
      padding:22px 10px;
      text-align:center;
      font-size:15px;
      font-weight:600;
      cursor:pointer;
      transition:transform .15s ease;
    }

    .card:active {
      transform:scale(.96);
    }

    .card span {
      display:block;
      font-size:30px;
      margin-bottom:6px;
    }

    .btn {
      width:100%;
      padding:16px;
      background:var(--primary);
      border:none;
      border-radius:var(--radius);
      color:#fff;
      font-size:16px;
      font-weight:700;
      cursor:pointer;
    }

    .hint {
      text-align:center;
      font-size:12px;
      opacity:.5;
      margin-top:14px;
    }
  </style>
</head>

<body>

<header>
  <img src="/icons/icon-192.png" alt="">
  <h1>Les Pompeuses</h1>
  <p>Acc√®s rapide officiel</p>
</header>

<div class="grid">
  <div class="card" onclick="openLink('https://www.lespompeuses.com')">
    <span>üè†</span>Accueil
  </div>
  <div class="card" onclick="openLink('https://www.lespompeuses.com/agenda')">
    <span>üìÖ</span>Agenda
  </div>
  <div class="card" onclick="openLink('https://www.lespompeuses.com/galerie')">
    <span>üì∏</span>Galerie
  </div>
  <div class="card" onclick="openLink('https://www.lespompeuses.com/contact')">
    <span>‚úâÔ∏è</span>Contact
  </div>
</div>

<button class="btn" onclick="openLink('https://www.lespompeuses.com/login')">
  üîê Connexion Google
</button>

<p class="hint">
  Le site s‚Äôouvre dans Safari pour une connexion s√©curis√©e.
</p>

<script>
  function openLink(url) {
    // iOS Safari / PWA safe
    window.location.href = url;
  }

  // Service Worker ultra-safe (iOS friendly)
  if ('serviceWorker' in navigator && location.protocol === 'https:') {
    navigator.serviceWorker.getRegistrations().then(r =>
      r.forEach(reg => reg.unregister())
    );
    navigator.serviceWorker.register('/sw.js').catch(()=>{});
  }
</script>

</body>
</html>
